"use strict";(self.webpackChunkcrosswordle=self.webpackChunkcrosswordle||[]).push([[889],{6973:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});var n=s(5861),r=s(4942),o=s(1413),a=s(885),c=s(7757),i=s.n(c),u=s(9588),l=s(2791),d=s(577),f=(s(5462),s(9737)),m={xs:414,sm:640,md:768,lg:1024},h=function(e,t){var s=(0,f.Lm)();return"up"===t?s>=m[e]:s<m[e]},x=function(e){var t=(0,l.useState)(e),s=(0,a.Z)(t,2),n=s[0],r=s[1],o=(0,l.useRef)(n);return[n,function(e){r(e),o.current=e},o]},v=function(e,t,s){var n={};return t.forEach((function(t){t.split("").forEach((function(t,s){return e.includes(t)?t===e[s]?n[t]="correct":"correct"!==n[t]?n[t]="present":void 0:n[t]="absent"}))})),null===s||void 0===s||s.forEach((function(e){"correct"!==n[e]&&(n[e]="known")})),n},g=s(1694),w=s.n(g),b=s(5978),y=s(184),p=function(e){var t=e.value,s=e.status,n=e.mode,r=void 0===n?"input":n,o=e.size,a=void 0===o?"lg":o,c=e.isFocused,i=void 0!==c&&c,u=h("md","down"),l=(0,f.AS)(),d=(0,b.v9)((function(e){return e.settings.highContrastMode})),m=w()("border-solid border-2 flex items-center justify-center mx-0.5 font-bold rounded dark:text-white select-none",{"bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-600":!s,"bg-white border-slate-200 text-green-500 text-opacity-50 dark:text-green-500":"known"===r&&!s&&!d,"bg-white border-slate-200 text-orange-500 text-opacity-50 dark:text-orange-500":"known"===r&&!s&&d,"bg-white border-slate-200 text-slate-400/50 text-opacity-50 dark:text-slate-400/50":"pencil"===r&&!s,"bg-slate-400 dark:bg-slate-700 text-white border-slate-400 dark:border-slate-700":"absent"===s,"bg-green-500 text-white border-green-500":"correct"===s&&!d,"bg-orange-500 text-white border-orange-500":"correct"===s&&d,"bg-yellow-500 dark:bg-yellow-700 text-white border-yellow-500 dark:border-yellow-700":"present"===s&&!d,"bg-cyan-500 text-white border-cyan-500":"present"===s&&d,"w-14 h-14 text-lg":"lg"===a,"w-5 h-5 text-sm":"sm"===a,"w-10 h-10 text-lg":"lg"===a&&u,"border-yellow-300":i,"short-tolerant":!u&&l>600});return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:m,children:t})})},j=function(e){var t=e.solution,s=e.guess,n=e.size,r=void 0===n?"lg":n,o=function(e,t){var s=e.split(""),n=t.split(""),r=s.map((function(e){return!1})),o=Array.from(Array(t.length));return n.forEach((function(e,t){if(e===s[t])return o[t]="correct",void(r[t]=!0)})),n.forEach((function(e,t){if(!o[t]){if(s.includes(e)){var n=s.findIndex((function(t,s){return t===e&&!r[s]}));return n>-1?(o[t]="present",void(r[n]=!0)):void(o[t]="absent")}o[t]="absent"}})),o}(t,s);return(0,y.jsx)("div",{className:"flex justify-center mb-1",children:s.split("").map((function(e,t){return(0,y.jsx)(p,{value:e,status:o[t],size:r},t)}))})},k=function(e){var t=e.guess,s=e.solution,n=e.focusedIndex,r=(0,b.v9)((function(e){return e.crossword})),o=r.knownLetters,a=r.penciledLetters;if(s.length-t.length<0)return null;var c=t.split(""),i=Array.from(Array(s.length-c.length)),u=c.length,l=function(e){return c[e]||o[e]||a[e]},d=function(e){return c[e]?"input":o[e]?"known":a[e]?"pencil":void 0};return(0,y.jsxs)("div",{className:"flex justify-center mb-1",children:[c.map((function(e,t){return(0,y.jsx)(p,{value:l(t),mode:d(t),isFocused:t===n},t)})),i.map((function(e,t){return(0,y.jsx)(p,{value:l(t+u),mode:d(t+u),isFocused:t+u===n},t)}))]})},C=function(e){var t=e.solution,s=e.size,n=void 0===s?"lg":s,r=Array.from(Array(t.length));return(0,y.jsx)("div",{className:"flex justify-center mb-1",children:r.map((function(e,t){return(0,y.jsx)(p,{size:n},t)}))})},N=function(e){var t=e.solution,s=e.guesses,n=e.currentGuess,r=e.focusedIndex,o=s.slice(0,3),a=Array.from(Array(3-o.length)),c=s.slice(3,6),i=Array.from(Array(3-c.length));return(0,y.jsxs)("div",{className:"pb-3",children:[(0,y.jsxs)("div",{className:"flex my-2 w-full",children:[(0,y.jsxs)("div",{className:"w-1/2",children:[o.map((function(e,s){return(0,y.jsx)(j,{guess:e,solution:t,size:"sm"},s)})),a.map((function(e,s){return(0,y.jsx)(C,{solution:t,size:"sm"},s)}))]}),(0,y.jsxs)("div",{className:"w-1/2",children:[c.map((function(e,s){return(0,y.jsx)(j,{guess:e,solution:t,size:"sm"},s)})),i.map((function(e,s){return(0,y.jsx)(C,{solution:t,size:"sm"},s)}))]})]}),(0,y.jsx)(k,{guess:n,solution:t,focusedIndex:r})]})},S=function(e){var t=e.solution,s=e.guesses,n=e.currentGuess,r=e.focusedIndex,o=h("md","down"),a=(0,f.AS)();if(o||a<600)return(0,y.jsx)(N,{solution:t,guesses:s,currentGuess:n,focusedIndex:r});var c=s.length<5?Array.from(Array(5-s.length)):[];return(0,y.jsxs)("div",{className:"pb-6",children:[s.map((function(e,s){return(0,y.jsx)(j,{guess:e,solution:t},s)})),s.length<6&&(0,y.jsx)(k,{guess:n,solution:t,focusedIndex:r}),c.map((function(e,s){return(0,y.jsx)(C,{solution:t},s)}))]})},E=function(e){var t=e.children,s=e.status,n=e.crossedStatus,r=e.size,o=void 0===r?"sm":r,a=e.value,c=e.onClick,i=void 0===c?function(){}:c,u=(0,b.v9)((function(e){return e.settings.highContrastMode})),l=w()("flex items-center justify-center rounded mx-0.5 text-xs font-bold cursor-pointer keyboard-key dark:text-white","keyboard-key-".concat(o," select-none"),{"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 active:bg-slate-400":!s,"bg-slate-400 text-white":"absent"===s,"bg-green-500 hover:bg-green-600 active:bg-green-700 text-white dark:bg-green-700":"correct"===s&&!u,"bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white dark:bg-yellow-700":"present"===s&&!u,"bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white dark:bg-orange-700":"correct"===s&&u,"bg-cyan-500 hover:bg-cyan-600 active:bg-cyan-700 text-white dark:bg-cyan-700":"present"===s&&u,"bg-cross-slate":!s&&"absent"===n,"bg-cross-yellow":"present"===s&&"absent"===n&&!u,"bg-cross-cyan":"present"===s&&"absent"===n&&u,"bg-cross-green":"correct"===s&&"absent"===n&&!u,"bg-cross-orange":"correct"===s&&"absent"===n&&u});return(0,y.jsx)("div",{className:l,onClick:function(){return i(a)},children:t||a})};function z(e,t){var s=(0,l.useRef)();(0,l.useEffect)((function(){s.current=t}),[t]),(0,l.useEffect)((function(){var t=function(e){s.current&&s.current(e)};return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}),[e])}var Z=function(e){var t=e.solution,s=e.crossedSolution,n=e.onChar,r=e.onDelete,o=e.onEnter,a=e.guesses,c=e.crossedGuesses,i=e.index,l=e.crossedIndex,d=(0,b.v9)((function(e){return e.settings.advancedKeyboard})),f=(0,b.v9)((function(e){return e.crossword.knownLetters})),m=v(t,a),h={};f.forEach((function(e){e&&(m[e]="correct")})),d&&(h=s?v(s,c):{},a.forEach((function(e){e[i]!==t[i]&&(h[e[i]]="absent")})),c.forEach((function(e){void 0!==l&&s&&e[l]!==s[l]&&(h[e[l]]="absent")})));var x=function(e){"ENTER"===e?o():"DELETE"===e?r():n(e)};return z("keyup",(function(e){if("Enter"===e.code)o();else if("Backspace"===e.code)r();else{var t=e.key.toUpperCase();1===t.length&&t>="A"&&t<="Z"&&n(t)}})),(0,y.jsxs)("div",{className:"mt-auto md:mt-none mb-3",children:[(0,y.jsxs)("div",{className:"flex justify-center mb-1",children:[(0,y.jsx)(E,{value:"Q",onClick:x,status:m.Q,crossedStatus:h.Q}),(0,y.jsx)(E,{value:"W",onClick:x,status:m.W,crossedStatus:h.W}),(0,y.jsx)(E,{value:"E",onClick:x,status:m.E,crossedStatus:h.E}),(0,y.jsx)(E,{value:"R",onClick:x,status:m.R,crossedStatus:h.R}),(0,y.jsx)(E,{value:"T",onClick:x,status:m.T,crossedStatus:h.T}),(0,y.jsx)(E,{value:"Y",onClick:x,status:m.Y,crossedStatus:h.Y}),(0,y.jsx)(E,{value:"U",onClick:x,status:m.U,crossedStatus:h.U}),(0,y.jsx)(E,{value:"I",onClick:x,status:m.I,crossedStatus:h.I}),(0,y.jsx)(E,{value:"O",onClick:x,status:m.O,crossedStatus:h.O}),(0,y.jsx)(E,{value:"P",onClick:x,status:m.P,crossedStatus:h.P})]}),(0,y.jsxs)("div",{className:"flex justify-center mb-1",children:[(0,y.jsx)(E,{value:"A",onClick:x,status:m.A,crossedStatus:h.A}),(0,y.jsx)(E,{value:"S",onClick:x,status:m.S,crossedStatus:h.S}),(0,y.jsx)(E,{value:"D",onClick:x,status:m.D,crossedStatus:h.D}),(0,y.jsx)(E,{value:"F",onClick:x,status:m.F,crossedStatus:h.F}),(0,y.jsx)(E,{value:"G",onClick:x,status:m.G,crossedStatus:h.G}),(0,y.jsx)(E,{value:"H",onClick:x,status:m.H,crossedStatus:h.H}),(0,y.jsx)(E,{value:"J",onClick:x,status:m.J,crossedStatus:h.J}),(0,y.jsx)(E,{value:"K",onClick:x,status:m.K,crossedStatus:h.K}),(0,y.jsx)(E,{value:"L",onClick:x,status:m.L,crossedStatus:h.L})]}),(0,y.jsxs)("div",{className:"flex justify-center",children:[(0,y.jsx)(E,{size:"lg",value:"ENTER",onClick:x,children:"Enter"}),(0,y.jsx)(E,{value:"Z",onClick:x,status:m.Z,crossedStatus:h.Z}),(0,y.jsx)(E,{value:"X",onClick:x,status:m.X,crossedStatus:h.X}),(0,y.jsx)(E,{value:"C",onClick:x,status:m.C,crossedStatus:h.C}),(0,y.jsx)(E,{value:"V",onClick:x,status:m.V,crossedStatus:h.V}),(0,y.jsx)(E,{value:"B",onClick:x,status:m.B,crossedStatus:h.B}),(0,y.jsx)(E,{value:"N",onClick:x,status:m.N,crossedStatus:h.N}),(0,y.jsx)(E,{value:"M",onClick:x,status:m.M,crossedStatus:h.M}),(0,y.jsx)(E,{size:"lg",value:"DELETE",onClick:x,children:(0,y.jsx)(u.OfK,{width:25,height:25})})]})]})},I=s(7298),A="rgb(34, 197, 94)",T=s(6181),O=s.n(T),L=s(8121),_=s.n(L),M=s(8173),G=s(8520),U=s(3991),W=s(6749),F=l.forwardRef((function(e,t){var s=e.crosswordIndex,n=e.onMoved,r=e.onChange,o=e.guess,c=W.Z[s],i=(0,l.useMemo)((function(){return(0,I.B9)(c)}),[c]),u=i.initialClue,d=i.initialDirection,f=(0,b.I0)(),m=(0,b.v9)((function(e){return e.settings.darkMode})),v=(0,G.c)(s),g=(0,a.Z)(v,2),w=g[0],p=g[1],j=x(w[u.row][u.col]),k=(0,a.Z)(j,3),C=k[0],N=k[1],S=k[2],E=x(d),z=(0,a.Z)(E,3),Z=z[0],A=z[1],T=z[2],L=h("sm","down")?10:20,F=240-2*L,R=F/w.length,D=.125,H=(0,l.useCallback)((function(e,t){var s=e[t]?t:(0,M.fU)(t);A(s),N(e)}),[N,A]),B=(0,l.useCallback)((function(e){return e.used&&e.row===C.row&&e.col===C.col}),[C]),K=(0,l.useCallback)((function(e,t){return O()(w,"".concat(e,".").concat(t),{used:!1})}),[w]),X=(0,l.useCallback)((function(e){if(e.used){var t=B(e)?(0,M.fU)(Z):Z;H(e,t)}}),[Z,H,B]),V=(0,l.useCallback)((function(e,t){var s=S.current,n=K(s.row+t,s.col+e),r=0!==e?"across":"down",o=r===Z?n:s;H(o.used?o:s,r)}),[S,K,H,Z]),P=(0,l.useCallback)((function(){var e=(0,M.fU)(T.current),t=S.current;H(t,e)}),[S,T,H]);(0,l.useEffect)((function(){var e=function(e){"ArrowLeft"===e.code?V(-1,0):"ArrowRight"===e.code?V(1,0):"ArrowDown"===e.code?V(0,1):"ArrowUp"===e.code?V(0,-1):"Tab"===e.code&&P()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[V,P]);var q=(0,l.useCallback)((function(){var e=C[Z],t=c[Z][e];if(!e||!t)return[];var s=[],n=[];Array.from(t.answer).forEach((function(e,r){var o=t.row+("across"===Z?0:r),a=t.col+("across"===Z?r:0),c=w[o][a];c.used&&(s.push(c.guess),n.push(c.pencil))})),f((0,U.ms)(s)),f((0,U.jN)(n))}),[C,Z,w,f,c]);(0,l.useEffect)((function(){n&&n(C,Z),q()}),[C,Z,q]),(0,l.useEffect)((function(){r&&r(w),q()}),[w,q]),(0,l.useImperativeHandle)(t,(function(){return{guessWord:function(e){var t=C[Z];if(t){var s=c[Z][t],n=_()(w),r=s.row,o=s.col,a=s.answer;Array.from(e).forEach((function(e,t){var s=o+("across"===Z?t:0),c=n[r+("down"===Z?t:0)][s];c.used&&e===a[t]&&(c.guess=e)})),p(n)}},pencilLetter:function(e){var t=_()(w),s=C.row,n=C.col;t[s][n].pencil=e,p(t)},eraseLetter:function(){var e=_()(w),t=C.row,s=C.col;delete e[t][s].pencil,p(e)},reset:function(){p((0,M.CX)(c))},reveal:function(){var e=_()(w);w.forEach((function(t,s){t.forEach((function(t,n){var r=e[s][n];r.used&&(r.guess=r.answer)}))})),p(e)},moveTo:function(e,t){var s=K(e,t);s.used&&H(s,Z)}}}));var J=m?"white":"rgba(0, 0, 0, 0.25)",Q=m?"white":"black",Y=m?"#f1c40f":"rgba(0, 0, 255, 0.6)",$=m?"rgba(170, 170, 170)":"rgba(107, 114, 128, 0.5)",ee=m?"rgb(66, 99, 148)":"#ffda00",te=m?"rgb(54, 45, 103)":"#a7d8ff";return(0,y.jsxs)("svg",{viewBox:"0 0 ".concat(240," ").concat(240),width:"100%",height:"100%",children:[(0,y.jsx)("rect",{x:L,y:L,width:F,height:F,fill:"black"}),w.flat().map((function(e){if(!e.used)return null;var t="".concat(e.row,"_").concat(e.col),s=m?"rgb(87, 88, 96)":"white";B(e)?s=ee:e[Z]===C[Z]&&(s=te);var n=function(e){if(e.used&&o){var t=C[Z];if(t&&e[Z]===t){var s=c[Z][t],n=e.row-s.row||e.col-s.col;return o[n]}}}(e),r=Q;n&&(r=Y),n||e.guess||!e.pencil||(r=$);var a=n||e.guess||e.pencil;return(0,y.jsxs)("g",{onClick:function(){return X(e)},children:[(0,y.jsx)("rect",{x:e.col*R+D+L,y:e.row*R+D+L,width:R-.25,height:R-.25,fill:s,stroke:"black",strokeWidth:.4}),e.number&&(0,y.jsx)("text",{x:e.col*R+.5+L,y:e.row*R+.5+L,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:J,userSelect:"none"},children:e.number}),a&&(0,y.jsx)("text",{x:(e.col+.5)*R+L,y:(e.row+.5)*R+L+3,textAnchor:"middle",dominantBaseline:"middle",style:{fill:r,userSelect:"none",fontSize:"25px"},children:a}),e.circle&&(0,y.jsx)("circle",{cx:(e.col+.5)*R+L,cy:(e.row+.5)*R+L,r:R/2-1,fill:"transparent",stroke:m?"rgba(255,255,255,0.8)":"rgba(0,0,0,0.5)",strokeWidth:.5})]},t)}))]})})),R=function(e,t){gtag("event",e,t)},D=function(e,t,s){R("game_end",{event_category:t,event_label:"crosswordle_".concat(e),value:s})},H=s(6419),B=s(5204),K=function(){return(0,y.jsxs)(B.u,{name:"submit",title:"Submit a Crosswordle",returnTo:"share",children:[(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"If you enjoy the crosswordle and are good at making crosswords consider submitting your own crosswordle for everyone to play!"}),(0,y.jsxs)("p",{className:"text-sm mt-3 text-gray-500",children:["First build a 5x5 crossword puzzle using only words in the english dictionary. I recommend using"," ",(0,y.jsx)("a",{href:"https://crosshare.org/construct",className:"underline font-bold",target:"_blank",rel:"noreferrer",onClick:function(){return R("open_crosshare")},children:"Crosshare.org"}),"."]}),(0,y.jsxs)("p",{className:"text-sm mt-3 text-gray-500",children:["Then take a screenshot of your crossword and email it to"," ",(0,y.jsx)("a",{href:"mailto:crosswordle.submissions@gmail.com",className:"underline font-bold",target:"_blank",rel:"noreferrer",onClick:function(){return R("email_submission")},children:"crosswordle.submissions@gmail.com"})," ","along with your name so you can get credit for the puzzle!"]}),(0,y.jsx)("p",{className:"mt-3 text-gray-500",children:"A couple tips:"}),(0,y.jsxs)("ul",{style:{listStyle:"inside",textAlign:"left"},className:"text-gray-500",children:[(0,y.jsx)("li",{children:"Try and minimize the number of 2 and 3 letter words that you use as these require a significant amount of luck."}),(0,y.jsx)("li",{children:"If you do use short words make sure that all of their letters are used in both down and across directions."}),(0,y.jsxs)("li",{children:["Generally try to keep to somewhat commonly known words, its no fun trying to guess ",(0,y.jsx)("b",{children:"zibeb"}),"."]})]})]})},X=s(27),V=s(7509),P=s(1708),q=s(6871),J=s(123),Q=function(){return(0,y.jsxs)(B.u,{name:"timerHelp",title:"Timer",returnTo:"settings",children:[(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"This setting allows you to see how long it took you to solve the crosswordle. It is disabled by default because the original metric for how well you did on a crosswordle puzzle was number of guesses used. Solving the crosswordle quickly will naturally cause you to use more guesses."}),(0,y.jsx)("br",{}),(0,y.jsx)("p",{className:"text-sm text-gray-500",children:"The timer starts when you input your first guess and ends when you complete the puzzle."})]})};var Y=function(){var e=(0,q.s0)(),t=(0,b.v9)((function(e){return e.navigation.firstRender})),s=(0,q.UO)().crosswordNumber,c=s?Number(s)-1:I.U,f=W.Z[c],m=(0,l.useMemo)((function(){return(0,I.B9)(f)}),[f]),h=m.initialClue,x=m.initialDirection,v=(0,l.useRef)(null),g=function(e){var t=(0,b.v9)((function(t){return t.wordle.guesses[e]||(0,H.Mv)(W.Z[e])})),s=(0,b.v9)((function(t){return t.wordle.shareHistories[e]||[]})),n=(0,b.v9)((function(t){return t.wordle.gameWins[e]||!1})),r=(0,b.v9)((function(t){return t.wordle.lostCells[e]})),o=(0,b.v9)((function(t){return t.wordle.times[e]})),a=(0,b.I0)(),c=(0,l.useCallback)((function(t,s,n){a((0,H.cg)({index:e,direction:t,number:s,guess:n}))}),[a,e]),i=(0,l.useCallback)((function(t){a((0,H.iO)({index:e,cellColors:t}))}),[a,e]),u=(0,l.useCallback)((function(){a((0,H.NS)({index:e}))}),[a,e]),d=(0,l.useCallback)((function(t){a((0,H.ad)({index:e,lostCell:t}))}),[a,e]);return{guesses:t,addGuess:c,shareHistory:s,pushShareHistory:i,isGameWon:n,win:u,lostCell:r,lose:d,time:o}}(c),p=g.isGameWon,j=g.lostCell,k=g.guesses,C=g.shareHistory,N=g.addGuess,E=g.pushShareHistory,T=g.win,O=g.lose,L=g.time,_=(0,l.useState)(""),G=(0,a.Z)(_,2),U=G[0],Y=G[1],$=(0,l.useState)(h.answer),ee=(0,a.Z)($,2),te=ee[0],se=ee[1],ne=(0,l.useState)(),re=(0,a.Z)(ne,2),oe=re[0],ae=re[1],ce=(0,l.useState)(h),ie=(0,a.Z)(ce,2),ue=ie[0],le=ie[1],de=(0,l.useState)(x),fe=(0,a.Z)(de,2),me=fe[0],he=fe[1],xe=(0,l.useState)("1"),ve=(0,a.Z)(xe,2),ge=ve[0],we=ve[1],be=(0,l.useState)(void 0),ye=(0,a.Z)(be,2),pe=ye[0],je=ye[1],ke=(0,l.useState)(0),Ce=(0,a.Z)(ke,2),Ne=Ce[0],Se=Ce[1],Ee=(0,l.useState)(void 0),ze=(0,a.Z)(Ee,2),Ze=ze[0],Ie=ze[1],Ae=function(){var e=(0,l.useState)(null),t=(0,a.Z)(e,2),s=t[0],r=t[1];return[s,(0,l.useCallback)((0,n.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/crosswordle/validWords.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,r(s),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))),[])]}(),Te=(0,a.Z)(Ae,2),Oe=Te[0],Le=Te[1],_e=(0,l.useState)(!1),Me=(0,a.Z)(_e,2),Ge=Me[0],Ue=Me[1],We=(0,b.I0)(),Fe=(0,b.v9)((function(e){return e.settings})),Re=Fe.darkMode,De=Fe.pencilMode,He=(Fe.showTimer,function(){var e=(0,b.v9)((function(e){return e.stats})),t=e.streak,s=e.maxStreak,n=(0,b.v9)((function(e){return e.wordle})),r=n.gameWins,o=n.shareHistories,a=n.lostCells,c=(0,l.useMemo)((function(){return Object.values(r).filter(Boolean).length}),[r]),i=(0,l.useMemo)((function(){return Object.values(a).filter(Boolean).length}),[a]),u=(0,l.useMemo)((function(){var e=0;return Object.keys(o).forEach((function(t){r[Number(t)]&&(e+=o[Number(t)].length)})),e/c}),[o,r,c]);return{streak:t,maxStreak:s,totalGamesWon:c,totalGamesLost:i,totalGames:i+c,winRatio:c/(c+i),averageGuesses:u}}()),Be=He.totalGames;(0,l.useEffect)((function(){t&&0===Be&&We((0,V.i3)("help"))}),[Be,We,t]),(0,l.useEffect)((function(){(p||j)&&We((0,V.i3)("share"))}),[p,j,We,t]),(0,l.useEffect)((function(){We((0,V._E)())}),[We,t]),(0,l.useEffect)((function(){Re?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[Re]),(0,l.useEffect)((function(){Le()}),[Le]),z("keyup",(function(e){"Shift"===e.key&&Qe()}));var Ke=(0,l.useCallback)((function(e){var t,s=ue.row,n=ue.col;"across"===me&&(n+=e),"down"===me&&(s+=e),null===(t=v.current)||void 0===t||t.moveTo(s,n)}),[me,v,ue]),Xe=(0,l.useCallback)((function(e){var t=ue.row,s=ue.col,n=ue.answer,r=C.slice(-1)[0]||{},o=Object.keys(r).reduce((function(e,t){return r[t]===A&&(e[t]=r[t]),e}),{});e.split("").forEach((function(e,r){var a=t+("across"===me?0:r),c=s+("across"===me?r:0);o["".concat(a,"_").concat(c)]!==A&&(e===n[r]?o["".concat(a,"_").concat(c)]=A:n.includes(e)?o["".concat(a,"_").concat(c)]="rgb(234, 179, 8)":o["".concat(a,"_").concat(c)]="rgb(148, 163, 184)")})),E(o)}),[C,E,ue,me]),Ve=(0,l.useCallback)((function(e){var t=C.slice(-1)[0]||{},s="".concat(e.row,"_").concat(e.col);E((0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},s,"red")))}),[C,E]),Pe=function(e){var t;0===C.length&&We((0,H.Xg)({index:c})),function(e,t){R("guess",{event_category:"game_in_progress",event_label:"crosswordle_".concat(e),value:t})}(c,e),N(me,ge,e),null===(t=v.current)||void 0===t||t.guessWord(U),Xe(e)},qe=(0,l.useCallback)((function(e){return e.guess!==e.answer&&(e.across&&e.down?k.across[e.across].length>=6&&k.down[e.down].length>=6:e.across?k.across[e.across].length>=6:!!e.down&&k.down[e.down].length>=6)}),[k]),Je=function(){var e=(0,n.Z)(i().mark((function e(){var t,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U.length===te.length){e.next=2;break}return e.abrupt("return");case 2:if(e.t0=Oe,e.t0){e.next=7;break}return e.next=6,Le();case 6:e.t0=e.sent;case 7:if(t=e.t0,t.includes(U.toLowerCase())||U===te){e.next=12;break}return d.Am.error("Word not found"),e.abrupt("return");case 12:s=k[me][ge],U.length===te.length&&s.length<6&&!s.includes(U)&&(Pe(U),Y(""));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){Y("")}),[me,ge]);var Qe=function(){var e=!De;We((0,X.hN)(e)),Y("")};return function(e,t){var s=(0,l.useRef)();(0,l.useEffect)((function(){s.current=e}),[e]),(0,l.useEffect)((function(){var e=setInterval((function(){s.current&&s.current()}),t);return function(){return clearInterval(e)}}),[t])}((function(){void 0===L||p||j||We((0,H.E8)({index:c}))}),1e3),(0,l.useEffect)((function(){103===c&&We((0,V.i3)("notice"))}),[c,We]),I.U<c?(0,y.jsx)(J.Z,{}):(0,y.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,y.jsxs)("div",{className:"flex w-screen mx-auto items-center border-b-slate-400 border-b-[1px] p-3 md:p-4",children:[(0,y.jsx)("div",{className:"grow",children:(0,y.jsx)("h1",{className:"text-md md:text-xl font-bold whitespace-nowrap dark:text-white",children:"WordleWord"})}),(0,y.jsx)(u.rKT,{className:"h-6 w-6 mr-3 cursor-pointer dark:stroke-white hidden md:inline",onClick:function(){return e("/puzzles")}}),(0,y.jsxs)("div",{className:w()("menu md:hidden",{hidden:!Ge}),children:[(0,y.jsxs)("div",{className:"mb-2 mx-2 cursor-pointer flex items-center",onClick:function(){We((0,V.i3)("share")),Ue(!1)},children:[(0,y.jsx)(u.EmG,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,y.jsxs)("div",{className:"mb-2 mx-2 cursor-pointer flex items-center",onClick:function(){e("/puzzles"),Ue(!1)},children:[(0,y.jsx)(u.rKT,{className:"h-4 w-4 mr-2"}),"Puzzle Archive"]}),(0,y.jsxs)("div",{className:"mb-2 mx-2 cursor-pointer flex items-center",onClick:function(){We((0,V.i3)("help")),Ue(!1)},children:[(0,y.jsx)(u.zqj,{className:"h-4 w-4 mr-2"}),"How to Play"]}),(0,y.jsxs)("div",{className:"mb-2 mx-2 cursor-pointer flex items-center",onClick:function(){We((0,V.i3)("settings")),Ue(!1)},children:[(0,y.jsx)(u.IEm,{className:"h-4 w-4 mr-2"}),"Settings"]})]}),(0,y.jsx)(K,{}),(0,y.jsx)(Q,{}),(0,y.jsx)(B.u,{name:"notice",title:"Updates to today's puzzle",children:(0,y.jsx)("p",{className:"text-gray-400",children:'Today\'s puzzle originally had a typo "ONIOM" instead of "ONION". If you had previously started this puzzle I have reset it, if you still see the word "ONIOM" in the puzzle try refreshing the page. If you previously lost this puzzle I reset your streak so you won\'t lose your streak. Sorry for the typo!'})})]}),(0,y.jsxs)("div",{className:"flex flex-1 flex-col w-screen overflow-x-hidden md:flex-row lg:flex-row",children:[(0,y.jsx)("div",{className:"w-full flex md:items-center justify-center px-20 md:p-6 md:w-1/2",children:(0,y.jsx)("div",{className:"max-w-[300px] md:max-w-[500px] w-full h-full justify-center max-width-static-mobile",children:(0,y.jsx)(F,{crosswordIndex:c,onMoved:function(e,t){if(e.used){var s=e[t]||"",n=e[(0,M.fU)(t)],r=f[t][s],o=n?f[(0,M.fU)(t)][n]:void 0;se(r.answer),ae(null===o||void 0===o?void 0:o.answer),le(r),we(s),je(n),he(t),Se(e.row-r.row||e.col-r.col),Ie(o?e.row-o.row||e.col-o.col:void 0)}},onChange:function(e){!function(e){if(!p&&!j){var t=!1,s=!0;e.forEach((function(e){return e.forEach((function(e){e.used&&(qe(e)&&(t=!0,O(e),Ve(e)),s&&(s=e.guess===e.answer))}))}));var n,r=(0,I.wh)(k);t&&(D(c,"game_lost",r),We((0,P.Nt)(c)),null===v||void 0===v||null===(n=v.current)||void 0===n||n.reveal()),s&&(D(c,"game_won",r),We((0,P.g)(c)),T())}}(e)},ref:v,guess:U})})}),(0,y.jsx)("div",{className:"w-full flex flex-1 md:items-center md:w-1/2 md:border-l border-slate-400",children:(0,y.jsxs)("div",{className:"md:py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 keyboard",children:[(0,y.jsx)(S,{guesses:k[me][ge]||[],currentGuess:U,solution:te,focusedIndex:Ne}),(0,y.jsx)(Z,{onChar:function(e){var t;if(De)return null===(t=v.current)||void 0===t||t.pencilLetter(e),void Ke(Ne+1);var s=k[me][ge];if(U.length<te.length&&s.length<6){var n="".concat(U).concat(e);Y(n),Ke(n.length)}},onDelete:function(){var e;if(De)return null===(e=v.current)||void 0===e||e.eraseLetter(),void Ke(Ne-1);var t=U.slice(0,-1);Y(t),Ke(t.length)},onEnter:Je,solution:te,crossedSolution:oe,guesses:k[me][ge]||[],crossedGuesses:k[(0,M.fU)(me)][pe||0]||[],index:Ne,crossedIndex:Ze})]})})]})]})}},5204:function(e,t,s){s.d(t,{u:function(){return l}});var n=s(2791),r=s(9075),o=s(7181),a=s(9588),c=s(5978),i=s(7509),u=s(184),l=function(e){var t=e.name,s=e.title,l=e.titleIcon,d=e.returnTo,f=e.children,m=(0,c.I0)(),h=(0,c.v9)((function(e){return e.navigation.openModal===t}));return(0,u.jsx)(r.u.Root,{show:h,as:n.Fragment,children:(0,u.jsx)(o.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(){return m((0,i.i3)(d))},children:(0,u.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,u.jsx)(r.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,u.jsx)(o.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,u.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,u.jsx)(r.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all md:max-w-lg sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[(0,u.jsx)("div",{className:"absolute right-4 top-4",children:(0,u.jsx)(a.oOx,{className:"h-6 w-6 cursor-pointer",onClick:function(){return m((0,i.i3)(d))}})}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"mb-2",children:l}),(0,u.jsx)(o.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:s}),(0,u.jsx)("div",{className:"mt-2",children:f})]})})]})})]})})})}},8173:function(e,t,s){s.d(t,{fU:function(){return i},CX:function(){return l}});var n=s(2982),r=s(4942),o=s(885),a={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}},c=Object.keys(a);function i(e){return function(e){return"across"===e}(e)?"down":"across"}function u(e,t){var s,n=a[t],c=0,i=0;return Object.entries(e[t]).forEach((function(e){var t=(0,o.Z)(e,2)[1],s=t[n.primary]+t.answer.length-1;s>c&&(c=s);var r=t[n.orthogonal];r>i&&(i=r)})),s={},(0,r.Z)(s,n.primary,c),(0,r.Z)(s,n.orthogonal,i),s}function l(e){var t=u(e,"across"),s=u(e,"down"),r=function(e){for(var t=Array(e),s=0;s<e;s++){t[s]=Array(e);for(var n=0;n<e;n++)t[s][n]={row:s,col:n,used:!1}}return t}(Math.max.apply(Math,(0,n.Z)(Object.values(t)).concat((0,n.Z)(Object.values(s))))+1);return c.forEach((function(t){Object.entries(e[t]).forEach((function(e){for(var s=(0,o.Z)(e,2),n=s[0],a=s[1],c=a.row,i=a.col,u=a.answer,l=0;l<u.length;l++){var d=i+("across"===t?l:0),f=r[c+("down"===t?l:0)][d];f.used=!0,f.answer=u[l],f[t]=n,0===l&&(f.number=n)}}))})),e.circles&&e.circles.forEach((function(e){var t=(0,o.Z)(e,2),s=t[0],n=t[1],a=r[s][n];a.used&&(a.circle=!0)})),r}},8520:function(e,t,s){s.d(t,{c:function(){return i}});var n=s(2791),r=s(5978),o=s(3991),a=s(8173),c=s(6749),i=function(e){var t=(0,r.I0)(),s=(0,n.useCallback)((function(s){t((0,o.g2)({index:e,gridData:s}))}),[t,e]);return[(0,r.v9)((function(t){var n=t.crossword.gridDatas[e];if(!n){var r=(0,a.CX)(c.Z[e]);return s(r),r}return n})),s]}}}]);
//# sourceMappingURL=889.bf1f9e86.chunk.js.map